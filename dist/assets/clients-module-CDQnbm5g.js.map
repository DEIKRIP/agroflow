{"version":3,"file":"clients-module-CDQnbm5g.js","sources":["../../src/features/financing/bolivar-digital/client-form-dialog.tsx","../../node_modules/@radix-ui/react-alert-dialog/dist/index.mjs","../../src/components/ui/alert-dialog.tsx","../../src/features/financing/bolivar-digital/clients-module.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { saveClient, Client } from \"@/lib/bolivarDigitalActions\";\nimport Button from \"@/components/ui/Button\";\nimport {\n  Dialog,\n  Content as DialogContent,\n  Header as DialogHeader,\n  Title as DialogTitle,\n  Description as DialogDescription,\n  Footer as DialogFooter,\n} from \"@/components/ui/Dialog\";\nimport Input from \"@/components/ui/Input\";\nimport { Label } from \"@/components/ui/Label\";\nimport { Textarea } from \"@/components/ui/Textarea\";\n\ntype FormState = {\n  isSubmitting: boolean;\n  error: string | null;\n  success: boolean;\n};\n\nfunction SubmitButton({ isSubmitting, isEditing }: { isSubmitting: boolean, isEditing: boolean }) {\n  return (\n    <Button type=\"submit\" disabled={isSubmitting}>\n      {isSubmitting ? (isEditing ? \"Guardando...\" : \"Registrando...\") : (isEditing ? \"Guardar Cambios\" : \"Registrar Sujeto Productivo\")}\n    </Button>\n  );\n}\n\ninterface ClientFormDialogProps {\n  isOpen: boolean;\n  setIsOpen: (open: boolean) => void;\n  onSuccess?: () => void;\n  client: Client | null;\n}\n\nexport default function ClientFormDialog({ isOpen, setIsOpen, onSuccess, client }: ClientFormDialogProps) {\n  const [formState, setFormState] = useState<FormState>({\n    isSubmitting: false,\n    error: null,\n    success: false,\n  });\n  \n  const { toast } = useToast();\n  const formRef = useRef<HTMLFormElement>(null);\n  const isEditing = client !== null;\n\n  const handleSubmit = async (formData: FormData) => {\n    try {\n      setFormState({ isSubmitting: true, error: null, success: false });\n      \n      const clientData: Client = {\n        id: client?.id,\n        fullName: formData.get('fullName') as string,\n        cedula: formData.get('cedula') as string,\n        rif: formData.get('rif') as string,\n        phone: formData.get('phone') as string,\n        address: formData.get('address') as string,\n        activity: formData.get('activity') as string || 'Producción Agrícola',\n      };\n\n      const result = await saveClient(clientData);\n      \n      if (result.success) {\n        toast({\n          title: \"Éxito\",\n          description: result.message,\n        });\n        formRef.current?.reset();\n        if (onSuccess) onSuccess();\n        setIsOpen(false);\n      } else {\n        throw new Error(result.message);\n      }\n    } catch (error: any) {\n      console.error('Error saving client:', error);\n      toast({\n        title: \"Error\",\n        description: error.message || 'Ocurrió un error al guardar el cliente',\n        variant: \"destructive\",\n      });\n      setFormState(prev => ({\n        ...prev,\n        isSubmitting: false,\n        error: error.message,\n      }));\n    }\n  };\n  \n  useEffect(() => {\n    if (!isOpen) {\n      // Reset form state when dialog closes\n      setFormState({ isSubmitting: false, error: null, success: false });\n      formRef.current?.reset();\n    }\n  }, [isOpen]);\n\n  return (\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle>{isEditing ? \"Editar Sujeto Productivo\" : \"Registrar Nuevo Sujeto Productivo\"}</DialogTitle>\n          <DialogDescription>\n            {isEditing ? \"Modifique los datos del sujeto productivo.\" : \"Complete los datos para registrar un nuevo sujeto productivo comunitario.\"}\n          </DialogDescription>\n        </DialogHeader>\n        <form ref={formRef} action={handleSubmit} className=\"space-y-4\">\n            {isEditing && <input type=\"hidden\" name=\"id\" value={client?.id} />}\n            \n            <div>\n                <Label htmlFor=\"fullName\">Nombre Completo</Label>\n                <Input \n                  id=\"fullName\" \n                  name=\"fullName\" \n                  defaultValue={client?.fullName ?? ''} \n                  required \n                  autoComplete=\"name\" \n                  disabled={formState.isSubmitting}\n                />\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <Label htmlFor=\"cedula\">Cédula</Label>\n                  <Input \n                    id=\"cedula\" \n                    name=\"cedula\" \n                    defaultValue={client?.cedula ?? ''} \n                    required \n                    disabled={formState.isSubmitting}\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"rif\">RIF</Label>\n                  <Input \n                    id=\"rif\" \n                    name=\"rif\" \n                    defaultValue={client?.rif ?? ''} \n                    required \n                    disabled={formState.isSubmitting}\n                  />\n                </div>\n            </div>\n            \n            <div>\n                <Label htmlFor=\"phone\">Teléfono</Label>\n                <Input \n                  id=\"phone\" \n                  name=\"phone\" \n                  type=\"tel\" \n                  defaultValue={client?.phone ?? ''} \n                  required \n                  autoComplete=\"tel\" \n                  disabled={formState.isSubmitting}\n                />\n            </div>\n\n            <div>\n                <Label htmlFor=\"activity\">Actividad Productiva</Label>\n                <Input \n                  id=\"activity\" \n                  name=\"activity\" \n                  defaultValue={client?.activity ?? 'Producción Agrícola'} \n                  required \n                  placeholder=\"Ej: Productor de Maíz\" \n                  disabled={formState.isSubmitting}\n                />\n            </div>\n\n            <div>\n                <Label htmlFor=\"address\">Dirección</Label>\n                <Textarea \n                  id=\"address\" \n                  name=\"address\" \n                  defaultValue={client?.address ?? ''} \n                  required \n                  autoComplete=\"street-address\" \n                  disabled={formState.isSubmitting}\n                />\n            </div>\n            \n            <DialogFooter>\n                <Button \n                  type=\"button\" \n                  variant=\"outline\" \n                  onClick={() => setIsOpen(false)}\n                  disabled={formState.isSubmitting}\n                >\n                  Cancelar\n                </Button>\n                <SubmitButton \n                  isSubmitting={formState.isSubmitting} \n                  isEditing={isEditing} \n                />\n            </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","\"use client\";\n\n// src/alert-dialog.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { createDialogScope } from \"@radix-ui/react-dialog\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createSlottable } from \"@radix-ui/react-slot\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar ROOT_NAME = \"AlertDialog\";\nvar [createAlertDialogContext, createAlertDialogScope] = createContextScope(ROOT_NAME, [\n  createDialogScope\n]);\nvar useDialogScope = createDialogScope();\nvar AlertDialog = (props) => {\n  const { __scopeAlertDialog, ...alertDialogProps } = props;\n  const dialogScope = useDialogScope(__scopeAlertDialog);\n  return /* @__PURE__ */ jsx(DialogPrimitive.Root, { ...dialogScope, ...alertDialogProps, modal: true });\n};\nAlertDialog.displayName = ROOT_NAME;\nvar TRIGGER_NAME = \"AlertDialogTrigger\";\nvar AlertDialogTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...triggerProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Trigger, { ...dialogScope, ...triggerProps, ref: forwardedRef });\n  }\n);\nAlertDialogTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"AlertDialogPortal\";\nvar AlertDialogPortal = (props) => {\n  const { __scopeAlertDialog, ...portalProps } = props;\n  const dialogScope = useDialogScope(__scopeAlertDialog);\n  return /* @__PURE__ */ jsx(DialogPrimitive.Portal, { ...dialogScope, ...portalProps });\n};\nAlertDialogPortal.displayName = PORTAL_NAME;\nvar OVERLAY_NAME = \"AlertDialogOverlay\";\nvar AlertDialogOverlay = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...overlayProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Overlay, { ...dialogScope, ...overlayProps, ref: forwardedRef });\n  }\n);\nAlertDialogOverlay.displayName = OVERLAY_NAME;\nvar CONTENT_NAME = \"AlertDialogContent\";\nvar [AlertDialogContentProvider, useAlertDialogContentContext] = createAlertDialogContext(CONTENT_NAME);\nvar Slottable = createSlottable(\"AlertDialogContent\");\nvar AlertDialogContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, children, ...contentProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    const cancelRef = React.useRef(null);\n    return /* @__PURE__ */ jsx(\n      DialogPrimitive.WarningProvider,\n      {\n        contentName: CONTENT_NAME,\n        titleName: TITLE_NAME,\n        docsSlug: \"alert-dialog\",\n        children: /* @__PURE__ */ jsx(AlertDialogContentProvider, { scope: __scopeAlertDialog, cancelRef, children: /* @__PURE__ */ jsxs(\n          DialogPrimitive.Content,\n          {\n            role: \"alertdialog\",\n            ...dialogScope,\n            ...contentProps,\n            ref: composedRefs,\n            onOpenAutoFocus: composeEventHandlers(contentProps.onOpenAutoFocus, (event) => {\n              event.preventDefault();\n              cancelRef.current?.focus({ preventScroll: true });\n            }),\n            onPointerDownOutside: (event) => event.preventDefault(),\n            onInteractOutside: (event) => event.preventDefault(),\n            children: [\n              /* @__PURE__ */ jsx(Slottable, { children }),\n              /* @__PURE__ */ jsx(DescriptionWarning, { contentRef })\n            ]\n          }\n        ) })\n      }\n    );\n  }\n);\nAlertDialogContent.displayName = CONTENT_NAME;\nvar TITLE_NAME = \"AlertDialogTitle\";\nvar AlertDialogTitle = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...titleProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Title, { ...dialogScope, ...titleProps, ref: forwardedRef });\n  }\n);\nAlertDialogTitle.displayName = TITLE_NAME;\nvar DESCRIPTION_NAME = \"AlertDialogDescription\";\nvar AlertDialogDescription = React.forwardRef((props, forwardedRef) => {\n  const { __scopeAlertDialog, ...descriptionProps } = props;\n  const dialogScope = useDialogScope(__scopeAlertDialog);\n  return /* @__PURE__ */ jsx(DialogPrimitive.Description, { ...dialogScope, ...descriptionProps, ref: forwardedRef });\n});\nAlertDialogDescription.displayName = DESCRIPTION_NAME;\nvar ACTION_NAME = \"AlertDialogAction\";\nvar AlertDialogAction = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...actionProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Close, { ...dialogScope, ...actionProps, ref: forwardedRef });\n  }\n);\nAlertDialogAction.displayName = ACTION_NAME;\nvar CANCEL_NAME = \"AlertDialogCancel\";\nvar AlertDialogCancel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...cancelProps } = props;\n    const { cancelRef } = useAlertDialogContentContext(CANCEL_NAME, __scopeAlertDialog);\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    const ref = useComposedRefs(forwardedRef, cancelRef);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Close, { ...dialogScope, ...cancelProps, ref });\n  }\n);\nAlertDialogCancel.displayName = CANCEL_NAME;\nvar DescriptionWarning = ({ contentRef }) => {\n  const MESSAGE = `\\`${CONTENT_NAME}\\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \\`${CONTENT_NAME}\\` by passing a \\`${DESCRIPTION_NAME}\\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \\`id\\` and passing the same value to the \\`aria-describedby\\` prop in \\`${CONTENT_NAME}\\`. If the description is confusing or duplicative for sighted users, you can use the \\`@radix-ui/react-visually-hidden\\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;\n  React.useEffect(() => {\n    const hasDescription = document.getElementById(\n      contentRef.current?.getAttribute(\"aria-describedby\")\n    );\n    if (!hasDescription) console.warn(MESSAGE);\n  }, [MESSAGE, contentRef]);\n  return null;\n};\nvar Root2 = AlertDialog;\nvar Trigger2 = AlertDialogTrigger;\nvar Portal2 = AlertDialogPortal;\nvar Overlay2 = AlertDialogOverlay;\nvar Content2 = AlertDialogContent;\nvar Action = AlertDialogAction;\nvar Cancel = AlertDialogCancel;\nvar Title2 = AlertDialogTitle;\nvar Description2 = AlertDialogDescription;\nexport {\n  Action,\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogOverlay,\n  AlertDialogPortal,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n  Cancel,\n  Content2 as Content,\n  Description2 as Description,\n  Overlay2 as Overlay,\n  Portal2 as Portal,\n  Root2 as Root,\n  Title2 as Title,\n  Trigger2 as Trigger,\n  createAlertDialogScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\nimport { cn } from \"@/lib/utils\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = ({\n  className,\n  children,\n  ...props\n}: AlertDialogPrimitive.AlertDialogPortalProps) => (\n  <AlertDialogPrimitive.Portal className={cn(className)} {...props}>\n    <div className=\"fixed inset-0 z-50 flex items-end justify-center sm:items-center\">\n      {children}\n    </div>\n  </AlertDialogPrimitive.Portal>\n)\nAlertDialogPortal.displayName = AlertDialogPrimitive.Portal.displayName\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm transition-all duration-100 data-[state=closed]:animate-out data-[state=closed]:fade-out data-[state=open]:fade-in\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed z-50 grid w-full gap-4 rounded-t-lg border bg-background p-6 shadow-lg animate-in data-[state=open]:fade-in-90 data-[state=open]:slide-in-from-bottom-10 sm:max-w-lg sm:rounded-lg sm:zoom-in-90 data-[state=open]:sm:slide-in-from-bottom-0\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      \"mt-2 inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","\n\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Button from \"@/components/ui/Button\";\nimport { Card, CardContent, CardHeader, CardTitle, CardFooter } from \"@/components/ui/Card\";\nimport { PlusCircle, User, Edit, Archive, ArrowRightCircle } from \"lucide-react\";\nimport ClientFormDialog from \"./client-form-dialog\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { deleteClientAction } from \"@/lib/bolivarDigitalActions\";\nimport { supabase } from \"@/lib/supabase\";\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n} from \"@/components/ui/alert-dialog\"\nimport type { BolivarDigitalClient, PrefillFinanciamientoData } from \"@/lib/types\";\n\ntype HistorialParcela = {\n    parcelaId: string;\n    estimacionId: string;\n    montoTotalEstimado: number;\n    linkedAt: string;\n}\n\ntype Client = BolivarDigitalClient & {\n    historialParcelas?: HistorialParcela[];\n}\n\nconst ClientCard = ({ client, onEdit, onCreateFinanciamiento }: { client: Client; onEdit: (client: Client) => void; onCreateFinanciamiento: (data: PrefillFinanciamientoData) => void; }) => {\n    const { toast } = useToast();\n    const [isDeleting, setIsDeleting] = useState(false);\n    const [isAlertOpen, setIsAlertOpen] = useState(false);\n\n    const handleDelete = async () => {\n        setIsDeleting(true);\n        const result = await deleteClientAction(client.id);\n        if (result.success) {\n            toast({ title: \"Éxito\", description: result.message });\n        } else {\n            toast({ title: \"Error\", description: result.message, variant: \"destructive\" });\n        }\n        setIsDeleting(false);\n        setIsAlertOpen(false);\n    };\n\n    const handleCreateFinanciamiento = () => {\n        // Pass only the client ID. The form will handle fetching the correct parcelas.\n        onCreateFinanciamiento({\n            clientId: client.id,\n        });\n    }\n\n    const totalEstimado = client.historialParcelas?.reduce((sum, item) => sum + item.montoTotalEstimado, 0) ?? 0;\n    const canCreateFinanciamiento = totalEstimado > 0;\n\n    return (\n        <Card className=\"flex flex-col\">\n            <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n                <CardTitle className=\"text-lg font-bold flex items-center gap-2\">\n                    <User className=\"h-5 w-5 text-primary\" />\n                    {client.fullName}\n                </CardTitle>\n                <div className=\"flex items-center gap-2\">\n                     <Button variant=\"ghost\" size=\"icon\" onClick={() => onEdit(client)}>\n                        <Edit className=\"h-4 w-4\" />\n                    </Button>\n                    <AlertDialog open={isAlertOpen} onOpenChange={setIsAlertOpen}>\n                        <AlertDialogTrigger asChild>\n                            <Button variant=\"ghost\" size=\"icon\" className=\"text-destructive hover:text-destructive\">\n                                <Archive className=\"h-4 w-4\" />\n                            </Button>\n                        </AlertDialogTrigger>\n                        <AlertDialogContent>\n                            <AlertDialogHeader>\n                            <AlertDialogTitle>¿Está seguro de eliminar?</AlertDialogTitle>\n                            <AlertDialogDescription>\n                                Esta acción no se puede deshacer. Se eliminará permanentemente al sujeto productivo y todos sus datos asociados.\n                            </AlertDialogDescription>\n                            </AlertDialogHeader>\n                            <AlertDialogFooter>\n                            <AlertDialogCancel>Cancelar</AlertDialogCancel>\n                            <AlertDialogAction onClick={handleDelete} disabled={isDeleting} className=\"bg-destructive hover:bg-destructive/90\">\n                                {isDeleting ? \"Eliminando...\" : \"Sí, eliminar\"}\n                            </AlertDialogAction>\n                            </AlertDialogFooter>\n                        </AlertDialogContent>\n                    </AlertDialog>\n                </div>\n            </CardHeader>\n            <CardContent className=\"text-sm text-muted-foreground space-y-2 flex-grow\">\n                <p><strong>Cédula:</strong> {client.cedula}</p>\n                <p><strong>RIF:</strong> {client.rif}</p>\n                <p><strong>Teléfono:</strong> {client.phone}</p>\n                <p><strong>Actividad:</strong> {client.activity}</p>\n                 <p><strong>Dirección:</strong> {client.address}</p>\n            </CardContent>\n            <CardFooter>\n                 <Button className=\"w-full h-auto p-0\" onClick={handleCreateFinanciamiento} disabled={!canCreateFinanciamiento} variant=\"secondary\">\n                     <div className=\"w-full p-3 bg-muted/50 rounded-md flex items-center justify-between text-foreground\">\n                        <span className=\"font-semibold flex items-center gap-2\">Total a Financiar</span>\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"font-bold text-lg\">Bs. {totalEstimado.toLocaleString('es-VE', { minimumFractionDigits: 2 })}</span>\n                          {canCreateFinanciamiento && <ArrowRightCircle className=\"h-5 w-5 text-primary\"/>}\n                        </div>\n                    </div>\n                 </Button>\n            </CardFooter>\n        </Card>\n    );\n};\n\nexport default function ClientsModule({ onCreateFinanciamiento }: { onCreateFinanciamiento: (data: PrefillFinanciamientoData) => void }) {\n  const [clients, setClients] = useState<Client[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<Error | null>(null);\n  const [isClientFormOpen, setIsClientFormOpen] = useState(false);\n  const [editingClient, setEditingClient] = useState<Client | null>(null);\n  const { toast } = useToast();\n\n  useEffect(() => {\n    const fetchClients = async () => {\n      try {\n        setLoading(true);\n        const { data, error } = await supabase\n          .from('bolivarDigitalClients')\n          .select('*');\n\n        if (error) throw error;\n\n        setClients(data || []);\n      } catch (err) {\n        setError(err as Error);\n        console.error('Error fetching clients:', err);\n        toast({\n          title: 'Error',\n          description: 'No se pudieron cargar los clientes',\n          variant: 'destructive',\n        });\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchClients();\n  }, []);\n\n  const handleEditClient = (client: Client) => {\n    setEditingClient(client);\n    setIsClientFormOpen(true);\n  };\n\n  const handleClientFormSuccess = () => {\n    // Recargar la lista de clientes después de un cambio exitoso\n    supabase\n      .from('bolivarDigitalClients')\n      .select('*')\n      .then(({ data, error }) => {\n        if (error) throw error;\n        setClients(data || []);\n        setIsClientFormOpen(false);\n        setEditingClient(null);\n        toast({ title: \"Cliente guardado exitosamente\" });\n      })\n      .catch(err => {\n        console.error('Error reloading clients:', err);\n        toast({\n          title: 'Error',\n          description: 'No se pudo actualizar la lista de clientes',\n          variant: 'destructive',\n        });\n      });\n  };\n\n  if (loading) return <div>Cargando clientes...</div>;\n  if (error) return <div>Error cargando clientes: {error.message}</div>;\n\n  const handleAddNew = () => {\n    setEditingClient(null);\n    setIsClientFormOpen(true);\n  };\n\n  const handleEdit = (client: Client) => {\n    setEditingClient(client);\n    setIsClientFormOpen(true);\n  };\n\n  return (\n    <div className=\"p-1\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h3 className=\"text-2xl font-semibold text-foreground\">Gestión de Sujetos Productivos</h3>\n        <Button onClick={handleAddNew}>\n          <PlusCircle className=\"mr-2 h-4 w-4\" />\n          Añadir Sujeto Productivo\n        </Button>\n      </div>\n\n      {loading && <p>Cargando...</p>}\n      {error && <p className=\"text-destructive\">Error: {error.message}</p>}\n\n      {!loading && clients.length === 0 ? (\n        <div className=\"text-center py-16 border-2 border-dashed rounded-lg\">\n          <User className=\"mx-auto h-12 w-12 text-muted-foreground\" />\n          <h3 className=\"mt-4 text-lg font-medium text-foreground\">No hay sujetos productivos registrados</h3>\n          <p className=\"mt-1 text-sm text-muted-foreground\">Empiece por añadir su primer sujeto productivo comunitario.</p>\n          <div className=\"mt-6\">\n            <Button onClick={handleAddNew}>\n              <PlusCircle className=\"mr-2 h-4 w-4\" />\n              Añadir Sujeto Productivo\n            </Button>\n          </div>\n        </div>\n      ) : (\n        <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n          {clients.map(client => (\n            <ClientCard \n              key={client.id} \n              client={client} \n              onEdit={handleEdit} \n              onCreateFinanciamiento={onCreateFinanciamiento} \n            />\n          ))}\n        </div>\n      )}\n\n      <ClientFormDialog \n        isOpen={isClientFormOpen} \n        setIsOpen={setIsClientFormOpen}\n        onSuccess={handleClientFormSuccess}\n        client={editingClient}\n      />\n    </div>\n  );\n}\n"],"names":["SubmitButton","isSubmitting","isEditing","jsx","Button","ClientFormDialog","isOpen","setIsOpen","onSuccess","client","formState","setFormState","useState","toast","useToast","formRef","useRef","handleSubmit","formData","clientData","result","saveClient","_a","error","prev","useEffect","Dialog","jsxs","DialogContent","DialogHeader","DialogTitle","DialogDescription","Label","Input","Textarea","DialogFooter","ROOT_NAME","createAlertDialogContext","createAlertDialogScope","createContextScope","createDialogScope","useDialogScope","AlertDialog","props","__scopeAlertDialog","alertDialogProps","dialogScope","DialogPrimitive.Root","TRIGGER_NAME","AlertDialogTrigger","React.forwardRef","forwardedRef","triggerProps","DialogPrimitive.Trigger","PORTAL_NAME","AlertDialogPortal","portalProps","DialogPrimitive.Portal","OVERLAY_NAME","AlertDialogOverlay","overlayProps","DialogPrimitive.Overlay","CONTENT_NAME","AlertDialogContentProvider","useAlertDialogContentContext","Slottable","createSlottable","AlertDialogContent","children","contentProps","contentRef","React.useRef","composedRefs","useComposedRefs","cancelRef","DialogPrimitive.WarningProvider","TITLE_NAME","DialogPrimitive.Content","composeEventHandlers","event","DescriptionWarning","AlertDialogTitle","titleProps","DialogPrimitive.Title","DESCRIPTION_NAME","AlertDialogDescription","descriptionProps","DialogPrimitive.Description","ACTION_NAME","AlertDialogAction","actionProps","DialogPrimitive.Close","CANCEL_NAME","AlertDialogCancel","cancelProps","ref","MESSAGE","React.useEffect","Root2","Trigger2","Portal2","Overlay2","Content2","Action","Cancel","Title2","Description2","AlertDialogPrimitive.Root","AlertDialogPrimitive.Trigger","className","AlertDialogPrimitive.Portal","cn","AlertDialogPrimitive.Overlay","AlertDialogPrimitive.Content","AlertDialogHeader","AlertDialogFooter","AlertDialogPrimitive.Title","AlertDialogPrimitive.Description","AlertDialogPrimitive.Action","AlertDialogPrimitive.Cancel","ClientCard","onEdit","onCreateFinanciamiento","isDeleting","setIsDeleting","isAlertOpen","setIsAlertOpen","handleDelete","deleteClientAction","handleCreateFinanciamiento","totalEstimado","sum","item","canCreateFinanciamiento","Card","CardHeader","CardTitle","User","Edit","Archive","CardContent","CardFooter","ArrowRightCircle","ClientsModule","clients","setClients","loading","setLoading","setError","isClientFormOpen","setIsClientFormOpen","editingClient","setEditingClient","data","supabase","err","handleClientFormSuccess","handleAddNew","handleEdit","PlusCircle"],"mappings":"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","x_google_ignoreList":[1]}